<!DOCTYPE html>
<html lang="UTF-8">
<head>
  <meta charset="UTF-8">
  <title>å–®å­—ç®¡ç†å¾Œå°</title>
</head>
<body>
  <h1>å–®å­—ç®¡ç†å¾Œå°</h1>
  <button onclick="toggleLanguage()">ğŸŒ åˆ‡æ›èªè¨€</button>
  <p id="saveReminder"></p>

  <div>
    <input id="wordInput" type="text" placeholder="è‹±æ–‡å–®å­—">
    <input id="translationInput" type="text" placeholder="ä¸­æ–‡ç¿»è­¯">
    <button onclick="addWord()">æ–°å¢å–®å­—</button>
  </div>

  <hr>

  <div>
    <h2>æ‰¹é‡åŒ¯å…¥å–®å­—</h2>
    <textarea id="bulkInput" rows="10" cols="50" placeholder="ä¸€è¡Œä¸€çµ„ï¼Œè‹±æ–‡,ä¸­æ–‡ã€‚ä¾‹å¦‚ï¼šHappy (adj.),é–‹å¿ƒçš„"></textarea><br>
    <button onclick="bulkImport()">æ‰¹é‡åŒ¯å…¥</button>
  </div>

  <hr>

  <h2>ç¾æœ‰å–®å­—</h2>
  <ul id="wordList"></ul>

  <button onclick="saveWords()">ğŸ’¾å„²å­˜åˆ° LocalStorage</button>
  <button onclick="clearAllWords()" style="background-color:red; color:white;">âŒä¸€éµåˆªé™¤æ‰€æœ‰å–®å­—</button>

  <script>
    let words = JSON.parse(localStorage.getItem('words')) || [];

    function renderWords() {
      const wordList = document.getElementById('wordList');
      wordList.innerHTML = '';
      words.forEach((item, index) => {
        const li = document.createElement('li');
        li.textContent = `${item.word} - ${item.translation}`;
        const deleteBtn = document.createElement('button');
        deleteBtn.textContent = translations[currentLanguage].delete;
        deleteBtn.onclick = () => {
          words.splice(index, 1);
          renderWords();
        };
        li.appendChild(deleteBtn);
        wordList.appendChild(li);
      });
    }

    function addWord() {
      const word = document.getElementById('wordInput').value.trim();
      const translation = document.getElementById('translationInput').value.trim();
      if (word && translation) {
        words.push({ word, translation });
        document.getElementById('wordInput').value = '';
        document.getElementById('translationInput').value = '';
        renderWords();
      } else {
        alert('è«‹è¼¸å…¥è‹±æ–‡å’Œä¸­æ–‡');
      }
    }

    function bulkImport() {
      const inputText = document.getElementById('bulkInput').value.trim();
      if (!inputText) {
        alert('è«‹è²¼ä¸Šè¦åŒ¯å…¥çš„å–®å­—');
        return;
      }
      const lines = inputText.split('\n');
      for (const line of lines) {
        const [word, translation] = line.split(',').map(s => s.trim());
        if (word && translation) {
          words.push({ word, translation });
        }
      }
      document.getElementById('bulkInput').value = '';
      renderWords();
      alert('æ‰¹é‡åŒ¯å…¥å®Œæˆï¼');
    }

    function saveWords() {
      localStorage.setItem('words', JSON.stringify(words));
      alert('å„²å­˜æˆåŠŸï¼');
    }

    function clearAllWords() {
      if (confirm('ç¢ºå®šè¦åˆªé™¤æ‰€æœ‰å–®å­—å—ï¼Ÿé€™å€‹å‹•ä½œç„¡æ³•å¾©åŸï¼')) {
        words = [];
        localStorage.removeItem('words');
        renderWords();
        alert('å·²æ¸…ç©ºæ‰€æœ‰å–®å­—ï¼');
      }
    }

    renderWords();
    let currentLanguage = 'zh'; // é è¨­èªè¨€ï¼šä¸­æ–‡

    const translations = {
  zh: {
    title: 'å–®å­—ç®¡ç†å¾Œå°',
    addWord: 'æ–°å¢å–®å­—',
    placeholderWord: 'è‹±æ–‡å–®å­—',
    placeholderTranslation: 'ä¸­æ–‡ç¿»è­¯',
    bulkTitle: 'æ‰¹é‡åŒ¯å…¥å–®å­—',
    bulkPlaceholder: 'ä¸€è¡Œä¸€çµ„ï¼Œè‹±æ–‡,ä¸­æ–‡ã€‚ä¾‹å¦‚ï¼šHappy (adj.),é–‹å¿ƒçš„',
    bulkImport: 'æ‰¹é‡åŒ¯å…¥',
    save: 'ğŸ’¾å„²å­˜åˆ° LocalStorage',
    clear: 'âŒä¸€éµåˆªé™¤æ‰€æœ‰å–®å­—',
    wordListTitle: 'ç¾æœ‰å–®å­—',
    delete: 'åˆªé™¤',
    reminder: 'è¨˜å¾—é»æ“Šã€ğŸ’¾å„²å­˜åˆ° LocalStorageã€‘å„²å­˜æ‚¨è¨­å®šçš„æ–‡å­—'
  },
  en: {
    title: 'Word Management',
    addWord: 'Add Word',
    placeholderWord: 'English Word',
    placeholderTranslation: 'Chinese Translation',
    bulkTitle: 'Bulk Import Words',
    bulkPlaceholder: 'One line per pair, e.g.: Happy (adj.),é–‹å¿ƒçš„',
    bulkImport: 'Bulk Import',
    save: 'ğŸ’¾ Save to LocalStorage',
    clear: 'âŒ Delete All Words',
    wordListTitle: 'Current Words',
    delete: 'Delete',
    reminder: 'Remember to click ã€ğŸ’¾ Save to LocalStorageã€‘ to save your words'
  }
};


function toggleLanguage() {
  currentLanguage = currentLanguage === 'zh' ? 'en' : 'zh';
  updateLanguage();
}

function updateLanguage() {
  const t = translations[currentLanguage];
  document.title = t.title;
  document.querySelector('h1').textContent = t.title;
  document.querySelector('button[onclick="addWord()"]').textContent = t.addWord;
  document.getElementById('wordInput').placeholder = t.placeholderWord;
  document.getElementById('translationInput').placeholder = t.placeholderTranslation;
  document.querySelectorAll('h2')[0].textContent = t.bulkTitle;
  document.getElementById('bulkInput').placeholder = t.bulkPlaceholder;
  document.querySelector('button[onclick="bulkImport()"]').textContent = t.bulkImport;
  document.querySelector('button[onclick="saveWords()"]').textContent = t.save;
  document.querySelector('button[onclick="clearAllWords()"]').textContent = t.clear;
  document.querySelectorAll('h2')[1].textContent = t.wordListTitle;
  document.getElementById('saveReminder').textContent = t.reminder;

  // é‡æ–°æ¸²æŸ“å–®å­—æ¸…å–®ä¸¦æ›´æ–°åˆªé™¤æŒ‰éˆ•èªè¨€
  renderWords();
}
</script>
</body>
</html>
